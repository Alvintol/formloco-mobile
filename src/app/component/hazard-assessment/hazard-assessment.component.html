<cdk-virtual-scroll-viewport itemSize="5" class="viewport-full">
    <mat-accordion>
      <mat-expansion-panel [expanded]="step === 0" (opened)="setStep(0)" hideToggle>
        <mat-expansion-panel-header>
          <mat-panel-title>
            Company
          </mat-panel-title>
        </mat-expansion-panel-header>
        <app-hazard-assessment-company [companyForm]=companyForm></app-hazard-assessment-company>
        <div class="action-btn" fxLayoutAlign="center center">
          <button mat-stroked-button color="primary" (click)="nextStep()">Next</button>
        </div>
      </mat-expansion-panel>
      <mat-expansion-panel [expanded]="step === 1" (opened)="setStep(1)" hideToggle>
        <mat-expansion-panel-header>
          <mat-panel-title>
            Job Details
          </mat-panel-title>
        </mat-expansion-panel-header>
        <app-hazard-assessment-job-details [jobDetailForm]=jobDetailForm></app-hazard-assessment-job-details>
        <div class="action-btn" fxLayoutAlign="center center" fxLayoutGap="20px">
          <button mat-stroked-button color="accent" (click)="prevStep()">Previous</button>
          <button mat-stroked-button color="primary" (click)="nextStep()">Next</button>
        </div>
      </mat-expansion-panel>
      <mat-expansion-panel [expanded]="step === 2" (opened)="setStep(2)" hideToggle>
          <mat-expansion-panel-header>
            <mat-panel-title>
              Tasks
            </mat-panel-title>
          </mat-expansion-panel-header>
          <app-hazard-assessment-task [hazardsForm]=hazardsForm></app-hazard-assessment-task>
          <br><br>
          <div class="action-btn" fxLayoutAlign="center center" fxLayoutGap="20px">
            <button mat-stroked-button color="accent" (click)="prevStep()">Previous</button>
            <button mat-stroked-button color="primary" (click)="nextStep()">Next</button>
          </div>
        </mat-expansion-panel>
      <mat-expansion-panel [expanded]="step === 3" (opened)="setStep(3)" hideToggle>
        <mat-expansion-panel-header>
          <mat-panel-title>
            Signature
          </mat-panel-title>
        </mat-expansion-panel-header>
        <app-sign-off (submitForm)="submitForm()"></app-sign-off>
        <div class="action-btn" fxLayoutAlign="center center">
          <button mat-stroked-button color="warn" (click)="prevStep()">Previous</button>
        </div>
      </mat-expansion-panel>
    </mat-accordion>
  </cdk-virtual-scroll-viewport>
  <footer *ngIf="appService.isFooter">
    <app-footer [state]=state (getHistory)="getHistory($event)"></app-footer>
  </footer>
