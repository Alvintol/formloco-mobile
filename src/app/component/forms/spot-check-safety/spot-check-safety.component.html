<mat-accordion>
  <mat-expansion-panel [expanded]="step === 0" (opened)="setStep(0)">
    <mat-expansion-panel-header class="right-aligned-header">
      <mat-panel-title class="text-color">
        Worksite Safety Management Review
      </mat-panel-title>
      <mat-panel-description fxLayout="end">*</mat-panel-description>
    </mat-expansion-panel-header>
    <app-spot-check-safety-header [headerForm]=headerForm></app-spot-check-safety-header>
    <br>
    <div class="action-btn" fxLayoutAlign="center center">
      <button mat-stroked-button color="primary" [disabled]="!headerForm.valid" (click)="nextStep()">Next</button>
    </div>
  </mat-expansion-panel>
  <mat-expansion-panel [expanded]="step === 1" (opened)="setStep(1)">
    <mat-expansion-panel-header class="right-aligned-header">
      <mat-panel-title class="text-color">
        Hazard Identification & Control
      </mat-panel-title>
    </mat-expansion-panel-header>
    <app-hazard-identification-control [hazardForm]=hazardForm></app-hazard-identification-control>
    <br>
    <div class="action-btn" fxLayoutAlign="center center" fxLayoutGap="20px">
      <button mat-stroked-button color="accent" (click)="prevStep()">Previous</button>
      <button mat-stroked-button color="primary" (click)="nextStep()">Next</button>
    </div>
  </mat-expansion-panel>
  <mat-expansion-panel [expanded]="step === 2" (opened)="setStep(2)">
    <mat-expansion-panel-header class="right-aligned-header">
      <mat-panel-title class="text-color">
        Rules & Work Procedures
      </mat-panel-title>
    </mat-expansion-panel-header>
    <app-rules-work-procedures [rulesForm]=rulesForm></app-rules-work-procedures>
    <br>
    <div class="action-btn" fxLayoutAlign="center center" fxLayoutGap="20px">
      <button mat-stroked-button color="accent" (click)="prevStep()">Previous</button>
      <button mat-stroked-button color="primary" (click)="nextStep()">Next</button>
    </div>
  </mat-expansion-panel>
  <mat-expansion-panel [expanded]="step === 3" (opened)="setStep(3)">
    <mat-expansion-panel-header class="right-aligned-header">
      <mat-panel-title class="text-color">
        Incident Reporting
      </mat-panel-title>
    </mat-expansion-panel-header>
    <app-incident-reporting [incidentForm]=incidentForm></app-incident-reporting>
    <br>
    <div class="action-btn" fxLayoutAlign="center center" fxLayoutGap="20px">
      <button mat-stroked-button color="accent" (click)="prevStep()">Previous</button>
      <button mat-stroked-button color="primary" (click)="nextStep()">Next</button>
    </div>
  </mat-expansion-panel>
  <mat-expansion-panel [expanded]="step === 4" (opened)="setStep(4)">
    <mat-expansion-panel-header class="right-aligned-header">
      <mat-panel-title class="text-color">
        Communication & Training
      </mat-panel-title>
    </mat-expansion-panel-header>
    <app-communication-training [communicationForm]=communicationForm></app-communication-training>
    <br>
    <div class="action-btn" fxLayoutAlign="center center" fxLayoutGap="20px">
      <button mat-stroked-button color="accent" (click)="prevStep()">Previous</button>
      <button mat-stroked-button color="primary" (click)="nextStep()">Next</button>
    </div>
  </mat-expansion-panel>
  <mat-expansion-panel [expanded]="step === 5" (opened)="setStep(5)">
    <mat-expansion-panel-header class="right-aligned-header">
      <mat-panel-title class="text-color">
        Personal Protective Equipment
      </mat-panel-title>
    </mat-expansion-panel-header>
    <app-personal-protective-equipment [personalEquipmentForm]=personalEquipmentForm></app-personal-protective-equipment>
    <br>
    <div class="action-btn" fxLayoutAlign="center center" fxLayoutGap="20px">
      <button mat-stroked-button color="accent" (click)="prevStep()">Previous</button>
      <button mat-stroked-button color="primary" (click)="nextStep()">Next</button>
    </div>
  </mat-expansion-panel>
  <mat-expansion-panel [expanded]="step === 6" (opened)="setStep(6)">
    <mat-expansion-panel-header class="right-aligned-header">
      <mat-panel-title class="text-color">
        Safety Equipment
      </mat-panel-title>
    </mat-expansion-panel-header>
    <app-safety-equipment [safetyEquipmentForm]=safetyEquipmentForm></app-safety-equipment>
    <br>
    <div class="action-btn" fxLayoutAlign="center center" fxLayoutGap="20px">
      <button mat-stroked-button color="accent" (click)="prevStep()">Previous</button>
      <button mat-stroked-button color="primary" (click)="nextStep()">Next</button>
    </div>
  </mat-expansion-panel>
  <mat-expansion-panel [expanded]="step === 7" (opened)="setStep(7)">
    <mat-expansion-panel-header class="right-aligned-header">
      <mat-panel-title class="text-color">
        Discrepancies
      </mat-panel-title>
    </mat-expansion-panel-header>
    <app-discrepancy></app-discrepancy>
    <br>
    <div class="action-btn" fxLayoutAlign="center center" fxLayoutGap="20px">
      <button mat-stroked-button color="accent" (click)="prevStep()">Previous</button>
      <button mat-stroked-button color="primary" (click)="nextStep()">Next</button>
    </div>
  </mat-expansion-panel>
  <mat-expansion-panel [expanded]="step === 8" (opened)="setStep(8)">
    <mat-expansion-panel-header>
      <mat-panel-title class="text-color">
        Signature
      </mat-panel-title>
    </mat-expansion-panel-header>
    <br>
    <div *ngIf="kioske" class="action-btn" fxLayoutAlign="center center">
      <mat-icon class="icon-169px text-color">fingerprint</mat-icon>
    </div>
    <div *ngIf="!isEdit && !kioske" class="action-btn" fxLayoutAlign="center center">
      <mat-icon *ngIf="!headerForm.valid" class="icon-169px text-color">fingerprint</mat-icon>
      <mat-icon *ngIf="headerForm.valid" class="icon-169px-action hand" (click)="submitForm()">fingerprint</mat-icon>
    </div>
    <div *ngIf="isEdit && !kioske" class="action-btn" fxLayoutAlign="center center">
      <mat-icon *ngIf="headerForm.valid" class="icon-169px-action hand" (click)="updateForm()">fingerprint</mat-icon>
    </div>
  </mat-expansion-panel>
</mat-accordion>

